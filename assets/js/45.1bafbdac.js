(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{161:function(e,t,s){e.exports=s.p+"73e1c40396f56c8ea61c8d774209d071.png"},169:function(e,t,s){e.exports=s.p+"426dd59183b48b5dbd6ca42d7a9c6ca6.png"},170:function(e,t,s){e.exports=s.p+"186f818203c8ce2063e64d01ebba8e90.png"},171:function(e,t,s){e.exports=s.p+"fd2bda2a8a18fbe1051e67a4963c1ddf.png"},172:function(e,t,s){e.exports=s.p+"62fab19a09947593e98e34a4742450c3.png"},173:function(e,t,s){e.exports=s.p+"6b7b61ac3ee261e00e5fc33b6c66d631.png"},174:function(e,t,s){e.exports=s.p+"fe8fbf50138d3e433d7f6d74b97c52e8.png"},175:function(e,t,s){e.exports=s.p+"d570fc0f0db61f888abc5f682f3fa84d.png"},176:function(e,t,s){e.exports=s.p+"1bc400988dc4d41cd5da21a3aa891de7.png"},177:function(e,t,s){e.exports=s.p+"f39491d4659b32fc30050d31d221f26d.png"},178:function(e,t,s){e.exports=s.p+"56756852b02b782187d1725056c2022d.png"},179:function(e,t,s){e.exports=s.p+"7a069b3ba4a4635026a01d39b85391f1.png"},180:function(e,t,s){e.exports=s.p+"fde5ee6ac76551ca7297eda2378710f3.png"},181:function(e,t,s){e.exports=s.p+"57a894c0ebf38a2679bb6a23ebb27c7f.png"},182:function(e,t,s){e.exports=s.p+"1e2c4d7253857acc601d0b5fb12ab75e.png"},183:function(e,t,s){e.exports=s.p+"4c63ee62ae047088eafe786d684c05d8.png"},184:function(e,t,s){e.exports=s.p+"ca1983dd6967bedbd42c75116d0e3e41.png"},185:function(e,t,s){e.exports=s.p+"1504ca63771316ad140d51204303f35b.png"},186:function(e,t,s){e.exports=s.p+"27b7b9e5124b4d91fa096a8ef86c028f.png"},256:function(e,t,s){"use strict";s.r(t);var i=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"relationships"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relationships","aria-hidden":"true"}},[this._v("#")]),this._v(" Relationships")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("When creating a data model, it’s a good idea to organize different types of data into different collections — for example, storing "),t("em",[this._v("customers")]),this._v(" separate from "),t("em",[this._v("orders")]),this._v('. This means we need to create "connections" between data — otherwise, we wouldn’t know which customer placed a given order. These connections are called relationships, and they are the glue that connects data in a relational database.')])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("There are multiple types of relationships but Directus only needs to store "),t("strong",[this._v("one")]),this._v(": the Many-to-One (M2O). We'll see how this is possible later, but first let's review each relationship type.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"many-to-one"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#many-to-one","aria-hidden":"true"}},[this._v("#")]),this._v(" Many-to-One")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("A many-to-one (M2O) relationship exists when an item of "),s("strong",[e._v("Collection A")]),e._v(" is linked to one single item of "),s("strong",[e._v("Collection B")]),e._v(", but an item of "),s("strong",[e._v("Collection B")]),e._v(" may be linked to many items of "),s("strong",[e._v("Collection A")]),e._v(". For example, a movie has one director, but directors have many movies.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("This setup is specific to the "),s("code",[e._v("movies → directors")]),e._v(" (M2O) field. The following steps assume you already have two collections: "),s("code",[e._v("movies")]),e._v(" and "),s("code",[e._v("directors")]),e._v(". Each collection has the default "),s("code",[e._v("id")]),e._v(" primary key and a "),s("code",[e._v("name")]),e._v(" field.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Go to "),t("strong",[this._v("Settings > Collections & Fields > Movies")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Click "),t("strong",[this._v("New Field")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Interface: Choose "),t("strong",[this._v("Many-to-One")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Schema: "),t("strong",[this._v("Name")]),this._v(" your field (we're using "),t("code",[this._v("director")]),this._v(")")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Relation: Select "),t("strong",[this._v("Directors")]),this._v(" as the Related Collection")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("Matching MySQL Datatype")]),e._v(" "),s("p",[e._v("In this example the "),s("code",[e._v("directors")]),e._v(" collection uses the default "),s("code",[e._v("id")]),e._v(" primary key, which has a Database DataType of "),s("code",[e._v("INT")]),e._v(". If you're using a different primary key type, such as "),s("code",[e._v("STRING")]),e._v(', make sure that your relational field\'s DataType/Length matches that of the primary key it will store. This can be adjusted under "Advanced Options" in the Field Modal.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"screenshots"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screenshots","aria-hidden":"true"}},[this._v("#")]),this._v(" Screenshots")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"one-to-many"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#one-to-many","aria-hidden":"true"}},[this._v("#")]),this._v(" One-to-Many")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("A one-to-many (O2M) relationship exists when an item of "),s("strong",[e._v("Collection A")]),e._v(" may be linked to many items of "),s("strong",[e._v("Collection B")]),e._v(", but an item of "),s("strong",[e._v("Collection B")]),e._v(" is linked to only one single item of "),s("strong",[e._v("Collection A")]),e._v(". For example, directors have many movies, but a movie only has one director. As you can see, this is the "),s("em",[e._v("same relationship")]),e._v(" as the M2O above... but looking at it from the opposite direction.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"setup-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("This setup is specific to the "),s("code",[e._v("directors → movies")]),e._v(" (O2M) field. The following steps assume you already have two collections: "),s("code",[e._v("movies")]),e._v(" and "),s("code",[e._v("directors")]),e._v(". Each collection has the default "),s("code",[e._v("id")]),e._v(" primary key and a "),s("code",[e._v("name")]),e._v(" field. Additionally, we're assuming you have already created the M2O relationship above, which creates the "),s("code",[e._v("movies.director")]),e._v(" field.")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{pre:!0},[s("ol",[s("li",[e._v("Go to "),s("strong",[e._v("Settings > Collections & Fields > Directors")])]),e._v(" "),s("li",[e._v("Click "),s("strong",[e._v("New Field")])]),e._v(" "),s("li",[e._v("Interface: Choose "),s("strong",[e._v("One-to-Many")])]),e._v(" "),s("li",[e._v("Schema: "),s("strong",[e._v("Name")]),e._v(" your field (we're using "),s("code",[e._v("movies")]),e._v(")")]),e._v(" "),s("li",[e._v("Relation: Select "),s("strong",[e._v("Movies")]),e._v(" as the Related Collection and "),s("strong",[e._v("Director")]),e._v(" as the Related Field\n"),s("ul",[s("li",[e._v("The "),s("code",[e._v("movie.director")]),e._v(" field was created during M2O setup above")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("Alias Fields")]),e._v(" "),s("p",[e._v("Technically, this process does not create a new field, it remotely manages the relational data using the "),s("code",[e._v("movies.director")]),e._v(" field. So if you were to look in the database you would not see an actual "),s("code",[e._v("directors.movies")]),e._v(' column. That is why we call this an "alias", because it simply '),s("em",[e._v("represents")]),e._v(" a field.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"screenshots-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screenshots-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Screenshots")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"direction-matters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#direction-matters","aria-hidden":"true"}},[this._v("#")]),this._v(" Direction Matters")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("Now we understand that a M2O and O2M are the "),s("em",[e._v("exact")]),e._v(" same relationship... just viewed from opposite directions. The "),s("code",[e._v("movies")]),e._v(" form shows a M2O dropdown to choose the director, and the "),s("code",[e._v("directors")]),e._v(" form has a O2M listing to select their movies. But if you were to peek behind the scenes you would only see one entry in "),s("code",[e._v("directus_relations")]),e._v(" defining this duplex relationship.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v('An easy way to remember which side is which: the "many" is an actual column that stores the foreign key, while the "one" side is a simulated column using the '),t("code",[this._v("ALIAS")]),this._v(" datatype.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:s(184),alt:"O2M + M2O"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"many-to-many"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#many-to-many","aria-hidden":"true"}},[this._v("#")]),this._v(" Many-to-Many")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("A many-to-many (M2M) is a slightly more advanced relationship that allows you to link "),t("em",[this._v("any")]),this._v(" items within "),t("strong",[this._v("Collection A")]),this._v(" and "),t("strong",[this._v("Collection B")]),this._v(". For example, movies can have many genres, and genres can have many movies.")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("Technically this is not a new relationship type, it is a O2M and M2O "),s("em",[e._v("working together")]),e._v(' across a "junction" collection. Each item in the junction (eg: '),s("code",[e._v("movie_genres")]),e._v(") is a single link between one item in "),s("code",[e._v("movies")]),e._v(" and one item in "),s("code",[e._v("genres")]),e._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"setup-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("This setup is specific to the "),s("code",[e._v("movies → genres")]),e._v(" (M2M) field. The following steps assume you already have two collections: "),s("code",[e._v("movies")]),e._v(" and "),s("code",[e._v("genres")]),e._v(". Each collection has the default "),s("code",[e._v("id")]),e._v(" primary key and a "),s("code",[e._v("name")]),e._v(" field.")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{pre:!0},[s("ol",[s("li",[e._v("Go to "),s("strong",[e._v("Settings > Collections & Fields")])]),e._v(" "),s("li",[e._v("Click "),s("strong",[e._v("New Collection")])]),e._v(" "),s("li",[s("strong",[e._v("Name")]),e._v(" your junction collection (we're using "),s("code",[e._v("movie_genres")]),e._v(")")]),e._v(" "),s("li",[e._v("Set the junction collection to be "),s("em",[e._v("Hidden")]),e._v(" (Optional)")]),e._v(" "),s("li",[e._v("Click "),s("strong",[e._v("New Field")]),e._v(" — Add "),s("code",[e._v("movie_genres.movie")]),e._v(" (basic numeric type)")]),e._v(" "),s("li",[e._v("Click "),s("strong",[e._v("New Field")]),e._v(" — Add "),s("code",[e._v("movie_genres.genre")]),e._v(" (basic numeric type)")]),e._v(" "),s("li",[e._v("Go to "),s("strong",[e._v("Settings > Collections & Fields > Movies")])]),e._v(" "),s("li",[e._v("Click "),s("strong",[e._v("New Field")])]),e._v(" "),s("li",[e._v("Interface: Choose "),s("strong",[e._v("Many-to-Many")])]),e._v(" "),s("li",[e._v("Schema: "),s("strong",[e._v("Name")]),e._v(" your field (we're using "),s("code",[e._v("genres")]),e._v(")")]),e._v(" "),s("li",[e._v("Relation: Select "),s("strong",[e._v("Genres")]),e._v(" as the Related Collection\n"),s("ul",[s("li",[e._v("Select "),s("strong",[e._v("Movie Genres")]),e._v(" as the Junction Collection")]),e._v(" "),s("li",[e._v("Map "),s("code",[e._v("movies.id")]),e._v(" to "),s("strong",[e._v("Movie")]),e._v(" under the junction")]),e._v(" "),s("li",[e._v("Map "),s("code",[e._v("genres.id")]),e._v(" to "),s("strong",[e._v("Genre")]),e._v(" under the junction")])])]),e._v(" "),s("li",[e._v("Options: "),s("strong",[e._v("Visible Columns")]),e._v(" sets the columns the interface shows (we're using "),s("code",[e._v("name")]),e._v(")\n"),s("ul",[s("li",[s("strong",[e._v("Display Template")]),e._v(" sets the columns the interface shows (we're using "),s("code",[e._v("{{name}}")]),e._v(")")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"screenshots-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screenshots-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Screenshots")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:s(185),alt:"M2M"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"many-to-any"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#many-to-any","aria-hidden":"true"}},[this._v("#")]),this._v(" Many-to-Any")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The many-to-any (M2X) allows you to connect items within "),t("strong",[this._v("Collection A")]),this._v(" to many items from "),t("strong",[this._v("any collection")]),this._v(". It is essentially the same as a M2M, but requires connected collections to use a Universally Unique Identifier (UUID) for the primary key. The Directus relational architecture supports this type of relationship, but there is no dedicated M2X interface yet.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:s(186),alt:"M2M"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"translations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#translations","aria-hidden":"true"}},[this._v("#")]),this._v(" Translations")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"setup-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Setup")])}],n=s(0),a=Object(n.a)({},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),i("div",{pre:!0},[i("ol",[e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),i("li",[e._v("Options: Enter a "),i("strong",[e._v("Dropdown Template")]),e._v(" (we're using "),i("code",[e._v("{{name}}")]),e._v(")\n"),i("ul",[i("li",[e._v("This can be any "),i("a",{attrs:{href:"https://www.npmjs.com/package/micromustache",target:"_blank",rel:"noopener noreferrer"}},[e._v("MicroMustache"),i("OutboundLink")],1),e._v(" string containing field names available within "),i("code",[e._v("directors")])])])])])]),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),i("p",[e._v("Here are some screenshots that show the above process in more detail.")]),e._v(" "),i("img",{attrs:{src:s(169),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(170),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(171),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(172),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(173),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(174),width:"100"}}),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),i("p",[e._v("Here are some screenshots that show the above process in more detail.")]),e._v(" "),i("img",{attrs:{src:s(175),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(176),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(177),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(161),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(161),width:"100"}}),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),i("p",[e._v("Here are some screenshots that show the above process in more detail.")]),e._v(" "),i("img",{attrs:{src:s(178),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(179),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(180),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(181),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(182),width:"100"}}),e._v(" "),i("img",{attrs:{src:s(183),width:"100"}}),e._v(" "),e._m(32),e._v(" "),e._m(33),e._v(" "),e._m(34),e._v(" "),i("p",[e._v("This type of relationship goes by many different names, and is often referred to by its specific purpose. Some names include: matrix field, replicator, M2MM, M2X, M2N, etc.")]),e._v(" "),e._m(35),e._v(" "),e._m(36),e._v(" "),i("p",[e._v("The translation interface is a standard O2M relation, but it expects a specific data model to ensure things work properly.")]),e._v(" "),e._m(37),e._v(" "),i("p",[e._v("TK")])])},i,!1,null,null,null);a.options.__file="relationships.md";t.default=a.exports}}]);